<body>
<p>In Japanese texts, <soCalled>ruby</soCalled> text is a run of text in phonetic scripts
            attached to a particular portion of the main body of the line (generally Chinese
            characters) in order to represent the reading of the portion (<ref target="#w3c2001" type="bibl">W3C, 2001</ref>, <foreign>inter alia</foreign>). It is named after
            the body size name of it in the moveable type printing. It is also called <foreign xml:lang="ja">furigana</foreign> as it is allocated to the main texts, which
            originally developed in East Asian vernacular glossing culture to the Classical Chinese
            texts.</p>
<p>Ruby today is not, however, a mere annotation to the line: it is more stuck to the
            particular characters than simple interlinear glosses and, more importantly, it should
            be read in parallel with the main line, or even as if it were the main line itself.
            Thus, ruby can be used not only as a simple guide of pronunciation but also as an
            alternative to the main text. Historically speaking, ruby was also attached to both
            sides of the main text in order to denote both reading and gloss, especially for
            borrowing words: even in this case, readers may read any side of ruby in accordance with
            their preferences. Besides, each side can correspond to different spans of text. These
            ruby functions are not confined to a simple gloss, which can be encoded within the
            current TEI framework, and they deserve to be encoded in its own way.</p>
<p>One can find such a two-sided example where a word <foreign xml:lang="ja">打球場</foreign>,
            or <mentioned>billiard hall</mentioned>, is attached two rubies (<ptr target="#fig1" type="crossref"/>): <q xml:lang="ja">ビリヤード</q> (phonetic transcription of the word
               <mentioned>billiard</mentioned> in Japanese <foreign>katakana</foreign>) to the
            whole, and <foreign>ダキウ</foreign> (phonetic transcription of the word
               <mentioned>打球</mentioned> in Japanese <foreign>katakana</foreign>) to the first two
            characters. 
            <figure>
<graphic mimeType="image/png" url="info:fedora/o:tei2019.155" xml:id="IMAGE.1"/>
<desc>From f. 28v of <ref target="#niwa1878" type="bibl">Niwa
                     (1878)</ref> and its modern rendering. Public Domain.</desc>
</figure> With this case, we will propose to encode this as follows: <figure xml:id="ex1">
<egXML>
<ruby>
<rb>
<ruby>
<rb>打球</rb>
<rt type="p">ダキウ</rt>
</ruby>場</rb>
<rt type="s">ビリヤード</rt>
</ruby>
</egXML>
<head type="legend">An Encoding Example of the Figure 1.</head>
</figure>Here, following existing conventions, <gi>ruby</gi> element denotes the whole
            ruby environments; <gi>rb</gi> element denotes the body texts, where nested
               <gi>ruby</gi> elements are allowed inside to encode two-sided rubies; and <gi>rt</gi>
            element denotes the ruby texts, where <att>type</att> describes whether the ruby text in
            question is primary (<val>p</val>) or secondary (<val>s</val>). Primary and secondary
            rubies are determined according to the text direction: in vertical right-to-left
            writing, primary rubies are on the right, whereas horizontal left-to-right writing, they
            will be on the top.</p>
<p>Thus, our encoding strategy encompasses historical varieties. Since ruby has long been
            one of the major concerns in Japanese texts, its encoding strategy has naturally been
            proposed from its early days, including W3C’s ruby specifications (<ref target="#w3c2001" type="bibl">W3C, 2001</ref>; <ref target="#w3c2013a" type="bibl">2013a</ref>;
               <ref target="#w3c2013b" type="bibl">2013b</ref>, <ref target="#hara2002" type="bibl">Hara &amp; Yasunaga, 2002</ref>, <ref target="#what2019" type="bibl">WhatWG,
               2019</ref>). Their considerations are quite broad and informative, regretfully
            limited to modern usages or either confused on the inclusion of interlinear gloss as
            ruby solely based on layout similarities.<note>This is because the existing ruby
               encodings have focused in realizing the contemporary ruby layouts, especially
               presented as <ref target="#jis2004" type="bibl">JIS (2004)</ref> or more accessible
                  <ref target="#w3c2012" type="bibl">W3C (2012)</ref>. See <ref target="#kawabata2014" type="bibl">Kawabata (2014)</ref> for more references.</note> Our
            proposal differentiates interlinear glosses to be encoded by the <gi>gloss</gi> element,
            which are attached to a particular place, rather than a particular part of the body (See
               <ref target="#estill2016" type="bibl">Estill, 2016</ref> for complexities in encoding
            of interlinear glosses). This distinguation is of necessary to an encoding to be more
            proper and simpler.</p>
</body>